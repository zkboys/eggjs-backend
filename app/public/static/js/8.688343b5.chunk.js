(this["webpackJsonpreact-adminv4"]=this["webpackJsonpreact-adminv4"]||[]).push([[8],{199:function(e,t,n){e.exports=n(201)},200:function(e,t,n){"use strict";function a(e,t,n,a,r,c,i){try{var u=e[c](i),o=u.value}catch(l){return void n(l)}u.done?t(o):Promise.resolve(o).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var i=e.apply(t,n);function u(e){a(i,r,c,u,o,"next",e)}function o(e){a(i,r,c,u,o,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return r}))},201:function(e,t,n){e.exports=n(6)(2887)},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(114);var a=n(79),r=n(0),c=n.n(r),i=n(7);function u(e){var t=c.a.createElement("div",null,"\u60a8\u786e\u5b9a\u5220\u9664",c.a.createElement("span",{style:{padding:"0 5px",color:"red",fontSize:18}},e),"\u6761\u8bb0\u5f55\u5417\uff1f");return new Promise((function(e,n){a.default.confirm({title:"\u6e29\u99a8\u63d0\u793a",content:t,icon:c.a.createElement(i.ExclamationCircleOutlined,null),okType:"danger",onOk:function(){return e(!0)},onCancel:function(){return n("user cancel confirm")}})}))}},245:function(e,t,n){"use strict";n.r(t);var a=n(199),r=n.n(a),c=n(5),i=(n(21),n(24)),u=n(200),o=(n(66),n(33)),l=n(48),s=n(0),p=n.n(s),d=n(78),f=n(18),b=n(202),m=n(49),O=function(){return m.c("/mock/users",{successTip:"\u5220\u9664\u6210\u529f\uff01",errorTip:"\u5220\u9664\u5931\u8d25\uff01"})},j=n(11),h=Object(f.a)({modal:function(e){return e.isEdit?"\u4fee\u6539\u7528\u6237":"\u6dfb\u52a0\u7528\u6237"}})((function(e){var t=Object(s.useState)({}),n=Object(l.a)(t,2),a=n[0],c=n[1],i=e.isEdit,d=e.id,f=e.onOk,b=o.default.useForm(),O=Object(l.a)(b,1)[0],h=Object(m.d)("/mock/users/:id"),g=Object(l.a)(h,2),v=g[0],E=g[1],k=Object(m.e)("/mock/users",{successTip:"\u6dfb\u52a0\u6210\u529f\uff01"}),x=Object(l.a)(k,2),y=x[0],w=x[1],S=Object(m.f)("/mock/users",{successTip:"\u6dfb\u52a0\u6210\u529f\uff01"}),C=Object(l.a)(S,2),z=C[0],N=C[1];function T(){return(T=Object(u.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return console.log(d),e.next=5,E(d);case 5:t=e.sent,c(t||{}),O.setFieldsValue(t||{});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(u.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y&&!z){e.next=2;break}return e.abrupt("return");case 2:return n=i?N:w,e.next=5,n(t);case 5:f&&f();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){i&&function(){T.apply(this,arguments)}()}),[]);var P={labelWidth:100},I=v||y||z;return p.a.createElement(j.g,{loading:I,okText:"\u4fdd\u5b58",cancelText:"\u91cd\u7f6e",onOk:function(){return O.submit()},onCancel:function(){return O.resetFields()}},p.a.createElement(o.default,{form:O,onFinish:function(e){return F.apply(this,arguments)},initialValues:a},i?p.a.createElement(j.c,Object.assign({},P,{type:"hidden",name:"id"})):null,p.a.createElement(j.c,Object.assign({},P,{label:"\u7528\u6237\u540d",name:"name",required:!0,noSpace:!0})),p.a.createElement(j.c,Object.assign({},P,{type:"number",label:"\u5e74\u9f84",name:"age",required:!0})),p.a.createElement(j.c,Object.assign({},P,{type:"select",label:"\u5de5\u4f5c",name:"job",options:[{value:"1",label:"\u524d\u7aef\u5f00\u53d1"},{value:"2",label:"\u540e\u7aef\u5f00\u53d1"}]})),p.a.createElement(j.c,Object.assign({},P,{type:"select",label:"\u804c\u4f4d",name:"position",options:[{value:"1",label:"\u5458\u5de5"},{value:"2",label:"CEO"}]})),p.a.createElement(j.c,Object.assign({},P,{type:"select",mode:"multiple",showSearch:!0,optionFilterProp:"children",label:"\u89d2\u8272",name:"role",options:[{value:"1",label:"\u5458\u5de5"},{value:"2",label:"CEO"}]}))))}));t.default=Object(f.a)({path:"/hook/users",title:"\u7528\u6237\u7ba1\u7406(Hooks)"})((function(){var e=Object(s.useState)({condition:{},pageSize:20,pageNum:1}),t=Object(l.a)(e,2),n=t[0],a=n.condition,f=n.pageSize,g=n.pageNum,v=t[1],E=Object(s.useState)([]),k=Object(l.a)(E,2),x=k[0],y=k[1],w=Object(s.useState)([]),S=Object(l.a)(w,2),C=S[0],z=S[1],N=Object(s.useState)(0),T=Object(l.a)(N,2),F=T[0],P=T[1],I=Object(s.useState)(!1),q=Object(l.a)(I,2),J=q[0],K=q[1],V=Object(s.useState)(null),H=Object(l.a)(V,2),R=H[0],W=H[1],A=o.default.useForm(),B=Object(l.a)(A,1)[0],D=Object(m.d)("/mock/users"),G=Object(l.a)(D,2),L=G[0],M=G[1],Q=O(),U=Object(l.a)(Q,2),X=U[0],Y=U[1],Z=Object(m.c)("/mock/users/:id",{successTip:"\u5220\u9664\u6210\u529f\uff01",errorTip:"\u5220\u9664\u5931\u8d25\uff01"}),$=Object(l.a)(Z,2),_=$[0],ee=$[1],te=[{title:"\u7528\u6237\u540d",dataIndex:"name",width:200},{title:"\u5e74\u9f84",dataIndex:"age",width:200},{title:"\u5de5\u4f5c",dataIndex:"job",width:200},{title:"\u804c\u4f4d",dataIndex:"position",width:200},{title:"\u64cd\u4f5c",dataIndex:"operator",width:100,render:function(e,t){var n=t.id,a=t.name,r=[{label:"\u7f16\u8f91",onClick:function(){return K(!0)||W(n)}},{label:"\u5220\u9664",color:"red",confirm:{title:'\u60a8\u786e\u5b9a\u5220\u9664"'.concat(a,'"?'),onConfirm:function(){return function(e){return re.apply(this,arguments)}(n)}}}];return p.a.createElement(j.h,{items:r})}}];function ne(){return ae.apply(this,arguments)}function ae(){return(ae=Object(u.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L){e.next=2;break}return e.abrupt("return");case 2:return t=Object(c.a)({},a,{pageNum:g,pageSize:f}),console.log("params:",t),e.next=6,M(t);case 6:n=e.sent,console.log("res:",n),y((null===n||void 0===n?void 0:n.list)||[]),P((null===n||void 0===n?void 0:n.total)||0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ee(t);case 4:return e.next=6,ne();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(u.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.a)(C.length);case 4:return e.next=6,Y({ids:C});case 6:return z([]),e.next=9,ne();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){ne()}),[a,g,f]);var ie={width:200},ue=L||X||_,oe=!(null===C||void 0===C?void 0:C.length)||ue;return p.a.createElement(d.a,{loading:ue},p.a.createElement(j.j,null,p.a.createElement(o.default,{form:B,onFinish:function(e){return v({condition:e,pageSize:f,pageNum:1})}},p.a.createElement(j.d,null,p.a.createElement(j.c,Object.assign({},ie,{label:"\u540d\u79f0",name:"name"})),p.a.createElement(j.c,Object.assign({},ie,{type:"select",label:"\u804c\u4f4d",name:"job",options:[{value:1,label:1},{value:2,label:2}]})),p.a.createElement(j.c,{layout:!0},p.a.createElement(i.default,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4"),p.a.createElement(i.default,{onClick:function(){return B.resetFields()}},"\u91cd\u7f6e"),p.a.createElement(i.default,{type:"primary",onClick:function(){return K(!0)||W(null)}},"\u6dfb\u52a0"),p.a.createElement(i.default,{danger:!0,disabled:oe,onClick:function(){return ce.apply(this,arguments)}},"\u5220\u9664"))))),p.a.createElement(j.k,{rowSelection:{selectedRowKeys:C,onChange:z},columns:te,dataSource:x,rowKey:"id",serialNumber:!0,pageNum:g,pageSize:f}),p.a.createElement(j.i,{total:F,pageNum:g,pageSize:f,onPageNumChange:function(e){return v({condition:a,pageSize:f,pageNum:e})},onPageSizeChange:function(e){return v({condition:a,pageSize:e,pageNum:1})}}),p.a.createElement(h,{visible:J,id:R,isEdit:null!==R,onOk:function(){return K(!1)||ne()},onCancel:function(){return K(!1)}}))}))}}]);
//# sourceMappingURL=8.688343b5.chunk.js.map